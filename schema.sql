CREATE DATABASE vet_clinic;
CREATE TABLE animals (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, DATE_OF_BIRTH DATE, ESCAPE_ATTEMPTS INT, NEUTERED BOOLEAN, WEIGHT_KG REAL);

ALTER TABLE animals ADD COLUMN species VARCHAR(40);

CREATE TABLE vets (ID SERIAL PRIMARY KEY, NAME VARCHAR(50), AGE INT, DATE_OF_GRADUATION DATE);
CREATE TABLE specialization (ID SERIAL PRIMARY KEY, VETS_ID INT, SPECIES_ID INT, CONSTRAINT fk_vets FOREIGN KEY (VETS_ID) REFERENCES vets (id) ON DELETE SET NULL);
ALTER TABLE specialization ADD CONSTRAINT FK_SPECIES FOREIGN KEY (species_id) REFERENCES species(id);
CREATE TABLE visits (ID SERIAL PRIMARY KEY, DATE_OF_VIST DATE, ANIMALS_ID INT, VETS_ID INT, CONSTRAINT fk_vets FOREIGN KEY (VETS_ID) REFERENCES vets (id) ON DELETE SET NULL);
ALTER TABLE visits ADD CONSTRAINT FK_ANIMALS FOREIGN KEY (ANIMALS_ID) REFERENCES ANIMALS(ID);
